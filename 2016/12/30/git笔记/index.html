<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>git笔记 | 笔记本</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="git教程:http:&#x2F;&#x2F;rogerdudler.github.io&#x2F;git-guide&#x2F;index.zh.html 工作流:  本地仓库由 git 维护的三棵“树”组成。第一个是你的 工作目录，它持有实际文件；第二个是 暂存区（Index），它像个缓存区域，临时保存你的改动；最后是 HEAD，它指向你最后一次提交的结果。   创建新仓库创建新文件夹，打开，然后执行git init以创建新的 gi">
<meta property="og:type" content="article">
<meta property="og:title" content="git笔记">
<meta property="og:url" content="http://xiaoyue26.github.io/2016/12/30/git%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="笔记本">
<meta property="og:description" content="git教程:http:&#x2F;&#x2F;rogerdudler.github.io&#x2F;git-guide&#x2F;index.zh.html 工作流:  本地仓库由 git 维护的三棵“树”组成。第一个是你的 工作目录，它持有实际文件；第二个是 暂存区（Index），它像个缓存区域，临时保存你的改动；最后是 HEAD，它指向你最后一次提交的结果。   创建新仓库创建新文件夹，打开，然后执行git init以创建新的 gi">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://rogerdudler.github.io/git-guide/img/trees.png">
<meta property="article:published_time" content="2016-12-30T11:15:35.000Z">
<meta property="article:modified_time" content="2020-04-18T15:38:11.292Z">
<meta property="article:author" content="风梦七">
<meta property="article:tag" content="git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://rogerdudler.github.io/git-guide/img/trees.png">
  
    <link rel="alternate" href="/atom.xml" title="笔记本" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  
<link rel="stylesheet" href="/css/style.css">

  

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://xiaoyue26.github.io"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">笔记本</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">风梦七</a>
        </h2>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-git笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/30/git%E7%AC%94%E8%AE%B0/" class="article-date">
  <time datetime="2016-12-30T11:15:35.000Z" itemprop="datePublished">2016-12-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/git/">git</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      git笔记
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>git教程:<br><a href="http://rogerdudler.github.io/git-guide/index.zh.html" target="_blank" rel="noopener">http://rogerdudler.github.io/git-guide/index.zh.html</a></p>
<p>工作流:</p>
<blockquote>
<p>本地仓库由 git 维护的三棵“树”组成。第一个是你的 工作目录，它持有实际文件；第二个是 暂存区（Index），它像个缓存区域，临时保存你的改动；最后是 HEAD，它指向你最后一次提交的结果。<br><img src="http://rogerdudler.github.io/git-guide/img/trees.png" alt="此处输入图片的描述"></p>
</blockquote>
<ul>
<li><p>创建新仓库<br>创建新文件夹，打开，然后执行<br><code>git init</code><br>以创建新的 git 仓库。</p>
</li>
<li><p>设置用户名和邮箱</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name xiaoyue26</span><br><span class="line">git config --global user.email 296671657@qq.com</span><br><span class="line">git config --global color.ui true</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="在项目目录下ls-a查看隐藏的git配置文件"><a href="#在项目目录下ls-a查看隐藏的git配置文件" class="headerlink" title="在项目目录下ls -a查看隐藏的git配置文件"></a>在项目目录下<code>ls -a</code>查看隐藏的git配置文件</h2><h2 id="修改-gitignore文件，例如在里面另起一行，添加：-zip-则可以忽略zip后缀名的文件。"><a href="#修改-gitignore文件，例如在里面另起一行，添加：-zip-则可以忽略zip后缀名的文件。" class="headerlink" title="修改.gitignore文件，例如在里面另起一行，添加：*.zip,则可以忽略zip后缀名的文件。"></a>修改.gitignore文件，例如在里面另起一行，添加：<code>*.zip</code>,则可以忽略zip后缀名的文件。</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-- 忽略除了lib.a以外的.a后缀文件</span><br><span class="line">*.a</span><br><span class="line">!lib.a</span><br></pre></td></tr></table></figure>

<p><code>git status</code>命令看到的绿色的就是已经stage的文件，<br>红色的就是还没有<code>git add</code>的文件(unstaged)。<br>##　unstage 删除远端没有 本地stage的文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached &lt;file&gt;...</span><br></pre></td></tr></table></figure>
<h2 id="暂存-慎用"><a href="#暂存-慎用" class="headerlink" title="暂存(慎用)"></a>暂存(慎用)</h2><p>想暂存到目前为止作出的修改，但是不想提交到版本库，git提供了一个命令git stash，所有修改会提交到栈中</p>
<h2 id="git-commit-的时候把时间改成明天："><a href="#git-commit-的时候把时间改成明天：" class="headerlink" title="git commit 的时候把时间改成明天："></a>git commit 的时候把时间改成明天：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 网上查到明天的unix时间戳是1451750400</span><br><span class="line">git commit --date 1451750400</span><br></pre></td></tr></table></figure>

<h2 id="撤销最后一次commit"><a href="#撤销最后一次commit" class="headerlink" title="撤销最后一次commit:"></a>撤销最后一次commit:</h2><p><code>git reset --soft HEAD~1</code></p>
<h2 id="从远端还原一个文件："><a href="#从远端还原一个文件：" class="headerlink" title="从远端还原一个文件："></a>从远端还原一个文件：</h2><p><code>git checkout config.rb</code></p>
<h2 id="查看远端信息："><a href="#查看远端信息：" class="headerlink" title="查看远端信息："></a>查看远端信息：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">git pull origin master</span><br><span class="line">githug</span><br></pre></td></tr></table></figure>

<h2 id="向本地仓库添加远程版本库，名叫origin"><a href="#向本地仓库添加远程版本库，名叫origin" class="headerlink" title="向本地仓库添加远程版本库，名叫origin"></a>向本地仓库添加远程版本库，名叫origin</h2><p><code>git remote add origin https://github.com/githug/githug</code></p>
<blockquote>
<p>合并分支，我们可以使用rebase，这个题目里，本地master提交了Thrid commit，而远程分支也提交了Fourth commit，现在需要把远程更新合并到本地，可以使用下面的命令。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rebase origin&#x2F;master</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>

<h2 id="查看config-rb文件每一行的作者："><a href="#查看config-rb文件每一行的作者：" class="headerlink" title="查看config.rb文件每一行的作者："></a>查看<code>config.rb</code>文件每一行的作者：</h2><p><code>git blame config.rb</code></p>
<p>##检出仓库<br>执行如下命令以创建一个本地仓库的克隆版本：</p>
<figure class="highlight plain"><figcaption><span>clone</span><a href="/path/to/repository">```</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">如果是远端服务器上的仓库，你的命令会是这个样子：</span><br><span class="line">&#96;&#96;&#96;git clone username@host:&#x2F;path&#x2F;to&#x2F;repository</span><br></pre></td></tr></table></figure>

<h1 id="用git定位代码从哪一次commit后开始出错："><a href="#用git定位代码从哪一次commit后开始出错：" class="headerlink" title="用git定位代码从哪一次commit后开始出错："></a>用git定位代码从哪一次commit后开始出错：</h1><p>原理：二分查找<br>背景条件：</p>
<ol>
<li><code>ruby prog.rb 5</code>命令在当前代码条件下应该返回正确答案15.</li>
<li>从过去的某一次commit后的代码之后，这个结果就错了。<br>现在要用git bisect找出到底是哪一次之后就出错了。</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找正确那次的commit <span class="built_in">hash</span>:</span></span><br><span class="line">git log</span><br><span class="line"><span class="meta">#</span><span class="bash"> 例如已知f608824那次commit运行`ruby prog.rb 5`命令的结果确实是15.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 告诉git bisect查找的起点和终点：</span></span><br><span class="line">git bisect start -- 开始查找</span><br><span class="line">git bisect good f608824 -- 起点(正确)</span><br><span class="line">git bisect bad master -- 终点(错误)</span><br><span class="line"><span class="meta">#</span><span class="bash">  交互地验证(类似监督学习)</span></span><br><span class="line">ruby prog.rb 5 #看结果是否 15 </span><br><span class="line"><span class="meta">#</span><span class="bash"> 1. 如果上述命令结果正确(15)，则输入：</span></span><br><span class="line">git bisect good</span><br><span class="line"><span class="meta">#</span><span class="bash"> 3. 如果上述命令结果错误(不是15)，则输入：</span></span><br><span class="line">git bisect bad</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 反复进行上述步骤，直到出现提示：</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">18ed2ac1522a014412d4303ce7c8db39becab076 is the first bad commit</span></span><br><span class="line">commit 18ed2ac1522a014412d4303ce7c8db39becab076</span><br><span class="line">Author: Robert Bittle &lt;guywithnose@gmail.com&gt;</span><br><span class="line">Date:   Mon Apr 23 06:52:10 2012 -0400</span><br></pre></td></tr></table></figure>










<p>##添加和提交<br>你可以提出更改（把它们添加到暂存区），使用如下命令：</p>
<figure class="highlight plain"><figcaption><span>add <filename></span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add *</span><br></pre></td></tr></table></figure>
<p>这是 git 基本工作流程的第一步；使用如下命令以实际提交改动：</p>
<figure class="highlight plain"><figcaption><span>commit -m "代码提交信息"```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">现在，你的改动已经提交到了 &#96;HEAD&#96;，但是还没到你的远端仓库。</span><br><span class="line"></span><br><span class="line">##推送改动</span><br><span class="line">你的改动现在已经在本地仓库的 HEAD 中了。执行如下命令以将这些改动提交到远端仓库：</span><br><span class="line">&#96;&#96;&#96;git push origin master</span><br></pre></td></tr></table></figure>
<p>可以把 master 换成你想要推送的任何分支。 </p>
<p>如果你还没有克隆现有仓库，并欲将你的仓库连接到某个远程服务器，你可以使用如下命令添加：</p>
<figure class="highlight plain"><figcaption><span>remote add origin <server>```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">如此你就能够将你的改动推送到所添加的服务器上去了。</span><br><span class="line"></span><br><span class="line">## 切换到tag v1.2 :</span><br><span class="line">&#96;git checkout v1.2&#96;</span><br><span class="line">或者明确指定是tag：</span><br><span class="line">&#96;git checkout tags&#x2F;v1.2&#96;</span><br><span class="line"></span><br><span class="line">###分支</span><br><span class="line">创建一个叫做&#96;my_branch&#96;的分支：</span><br><span class="line">&#96;git branch my_branch&#96;</span><br><span class="line">创建一个叫做“feature_x”的分支，并切换过去：</span><br><span class="line">&#96;&#96;&#96;git checkout -b feature_x</span><br></pre></td></tr></table></figure>
<p>上述都是在当前代码基础上创建分支，也可以在任意一次commit的基础上创建分支：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 先查看commit的hash标记</span><br><span class="line">git log</span><br><span class="line"># 创建分支</span><br><span class="line">git branch test_branch -v 27b1836a65de099f6ebddb5998</span><br></pre></td></tr></table></figure>

<p>切换回主分支：</p>
<figure class="highlight plain"><figcaption><span>checkout master```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">查看当前分支情况：(类似git status)</span><br><span class="line">&#96;git branch &#96;</span><br><span class="line">push到指定分支上：</span><br><span class="line">&#96;git push --set-upstream origin test_branch&#96;</span><br><span class="line">其中：</span><br><span class="line">&gt;origin 是默认的远程版本库名称</span><br><span class="line">可以在 .git&#x2F;config 之中进行修改</span><br><span class="line"></span><br><span class="line">把&#96;feature&#96;分支合并到当前分支:</span><br><span class="line">&#96;git merge feature&#96;</span><br><span class="line"></span><br><span class="line">不merge但是获取远端的东西：</span><br><span class="line">&#96;git fetch&#96;</span><br><span class="line">&gt;git fetch：相当于是从远程获取最新版本到本地，不会自动merge</span><br><span class="line">git pull：相当于是从远程获取最新版本并merge到本地</span><br><span class="line"></span><br><span class="line">git rebase和git merge区别：</span><br><span class="line">&gt;1. 在B分支上执行 git merge A 后 A就被合到B上了</span><br><span class="line">2. 在B分支上执行 git rebase B A 后，效果与merge是一样的，但是 A就没有了，两个分支就合在一起了。</span><br><span class="line"></span><br><span class="line">git rebase分支：</span><br><span class="line">&#96;git rebase master feature&#96;</span><br><span class="line"></span><br><span class="line">用&#96;git gc&#96;代替&#96;git repack&#96;命令。</span><br><span class="line"></span><br><span class="line"># cherry-pick 从别的分支提取commit(提取文件)。</span><br></pre></td></tr></table></figure>
<h1 id="切换到feature分支"><a href="#切换到feature分支" class="headerlink" title="切换到feature分支:"></a>切换到feature分支:</h1><p>git checkout feature</p>
<h1 id="查看log树"><a href="#查看log树" class="headerlink" title="查看log树:"></a>查看log树:</h1><p>git log</p>
<h1 id="找到添加和修改想要文件那次commit的hash-ca32a6…"><a href="#找到添加和修改想要文件那次commit的hash-ca32a6…" class="headerlink" title="找到添加和修改想要文件那次commit的hash ca32a6…"></a>找到添加和修改想要文件那次commit的hash ca32a6…</h1><h1 id="切换回master分支"><a href="#切换回master分支" class="headerlink" title="切换回master分支:"></a>切换回master分支:</h1><p>git checkout master</p>
<h1 id="提取文件："><a href="#提取文件：" class="headerlink" title="提取文件："></a>提取文件：</h1><p>git cherry-pick ca32a6dac7b6f97</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">查看还有多少个&#96;TODO&#96;:</span><br><span class="line">&#96;git grep TODO&#96;</span><br><span class="line"></span><br><span class="line">修改很久以前的注释,(修改上一次的直接git commit --amend -m就行了)</span><br></pre></td></tr></table></figure>
<h1 id="往前倒到上两次的："><a href="#往前倒到上两次的：" class="headerlink" title="往前倒到上两次的："></a>往前倒到上两次的：</h1><p>git rebase -i HEAD~2</p>
<h1 id="把pick改成reword-并修改注释。"><a href="#把pick改成reword-并修改注释。" class="headerlink" title="把pick改成reword,并修改注释。"></a>把pick改成reword,并修改注释。</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">合并前四次commit:</span><br></pre></td></tr></table></figure>
<h1 id="通过git-log确定要合并的commit有几次"><a href="#通过git-log确定要合并的commit有几次" class="headerlink" title="通过git log确定要合并的commit有几次"></a>通过git log确定要合并的commit有几次</h1><p>git log</p>
<h1 id="修改前四次的："><a href="#修改前四次的：" class="headerlink" title="修改前四次的："></a>修改前四次的：</h1><p>git rebase -i HEAD~4</p>
<h1 id="这时的顺序是从按时间最早到最晚排列的，所以把后面几个pick都改成s然后退出保存即可。"><a href="#这时的顺序是从按时间最早到最晚排列的，所以把后面几个pick都改成s然后退出保存即可。" class="headerlink" title="这时的顺序是从按时间最早到最晚排列的，所以把后面几个pick都改成s然后退出保存即可。"></a>这时的顺序是从按时间最早到最晚排列的，所以把后面几个pick都改成s然后退出保存即可。</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">合并分支时，把分支的多次提交变成一次提交。</span><br></pre></td></tr></table></figure>
<h1 id="跟上面的类似，但是从别的分支取出几个commit-然后在本分支上体现为一个commit"><a href="#跟上面的类似，但是从别的分支取出几个commit-然后在本分支上体现为一个commit" class="headerlink" title="跟上面的类似，但是从别的分支取出几个commit,然后在本分支上体现为一个commit:"></a>跟上面的类似，但是从别的分支取出几个commit,然后在本分支上体现为一个commit:</h1><p>git merge –squash long-feature-branch<br>git commit -m “commit from merge branch”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">修改commit的顺序：</span><br></pre></td></tr></table></figure>
<p>git rebase -i HEAD~3<br>然后把里面的几行顺序换一下就好了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">再把新建的分支删掉：</span><br><span class="line">&#96;&#96;&#96;git branch -d feature_x</span><br></pre></td></tr></table></figure>
<p>除非你将分支推送到远端仓库，不然该分支就是 不为他人所见的：</p>
<figure class="highlight plain"><figcaption><span>push origin <branch>```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;origin 是默认的远程版本库名称你可以在 &#96;.git&#x2F;config&#96; 之中进行修改.</span><br><span class="line">&gt;事实上 &#96;git push origin master&#96; 的意思是 &#96;git push origin master:master&#96; （将本地的 master 分支推送至远端的 master 分支，如果没有就新建一个）</span><br><span class="line"></span><br><span class="line">##更新与合并</span><br><span class="line">要更新你的本地仓库至最新改动，执行：</span><br><span class="line">&#96;&#96;&#96;git pull</span><br></pre></td></tr></table></figure>
<p>以在你的工作目录中 获取（fetch） 并 合并（merge） 远端的改动。<br>要合并其他分支到你的当前分支（例如 master），执行：</p>
<figure class="highlight plain"><figcaption><span>merge <branch>```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在这两种情况下，git 都会尝试去自动合并改动。遗憾的是，这可能并非每次都成功，并可能出现冲突（conflicts）。 这时候就需要你修改这些文件来手动合并这些冲突（conflicts）。改完之后，你需要执行如下命令以将它们标记为合并成功：</span><br><span class="line">&#96;&#96;&#96;git add &lt;filename&gt;</span><br></pre></td></tr></table></figure>
<p>在合并改动之前，你可以使用如下命令预览差异：</p>
<figure class="highlight plain"><figcaption><span>diff <source_branch> <target_branch>```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##标签</span><br><span class="line">为软件发布创建标签是推荐的。这个概念早已存在，在 SVN 中也有。你可以执行如下命令创建一个叫做 1.0.0 的标签：</span><br><span class="line">&#96;&#96;&#96;git tag 1.0.0 1b2e1d63ff</span><br></pre></td></tr></table></figure>
<p><code>1b2e1d63ff</code> 是你想要标记的提交 ID 的前 10 位字符。可以使用下列命令获取提交 ID：</p>
<figure class="highlight plain"><figcaption><span>log```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">你也可以使用少一点的提交 ID 前几位，只要它的指向具有唯一性。</span><br><span class="line"></span><br><span class="line">##替换本地改动</span><br><span class="line">假如你操作失误（当然，这最好永远不要发生），你可以使用如下命令替换掉本地改动：</span><br><span class="line">&#96;&#96;&#96;git checkout -- &lt;filename&gt;</span><br></pre></td></tr></table></figure>
<p>此命令会使用 HEAD 中的最新内容替换掉你的工作目录中的文件。已添加到暂存区的改动以及新文件都不会受到影响。</p>
<p>假如你想丢弃你在本地的所有改动与提交，可以到服务器上获取最新的版本历史，并将你本地主分支指向它：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin</span><br><span class="line">git reset --hard origin&#x2F;master</span><br></pre></td></tr></table></figure>

<p>##实用小贴士<br>内建的图形化 git：<br><code>gitk</code><br>彩色的 git 输出：<br><code>git config color.ui true</code><br>显示历史记录时，每个提交的信息只显示一行：<br><code>git config format.pretty oneline</code><br>交互式添加文件到暂存区：<br><code>git add -i</code></p>
<p>进阶教程:<br><a href="http://marklodato.github.io/visual-git-guide/index-zh-cn.html" target="_blank" rel="noopener">http://marklodato.github.io/visual-git-guide/index-zh-cn.html</a></p>
<ol>
<li>开分支:<figure class="highlight plain"><figcaption><span>branch 新分支名```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> 如新建一个开发分支:</span><br><span class="line">&#96;&#96;&#96; git branch dev</span><br></pre></td></tr></table></figure></li>
<li>切换到某分支:<figure class="highlight plain"><figcaption><span>checkout 分支名```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3. 合并上述两个命令:</span><br><span class="line">&#96;&#96;&#96; git checkout -b 新分支名</span><br></pre></td></tr></table></figure></li>
<li>合并分支:<figure class="highlight plain"><figcaption><span>merge 需要合并的分支名```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5. 查看本地分支列表:</span><br><span class="line">&#96;&#96;&#96; git branch -a</span><br></pre></td></tr></table></figure></li>
<li>查看远端分支列表:<figure class="highlight plain"><figcaption><span>branch -r```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">7. 向远程分支提交本地新开的分支:</span><br><span class="line">&#96;&#96;&#96;git push origin 新分支名</span><br></pre></td></tr></table></figure></li>
<li>删除远程分支:(多一个空格和冒号)<figure class="highlight plain"><figcaption><span>push origin :远程分支名```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">原理就是把一个空的branch赋值给已有的branch，这样就删除了。</span><br><span class="line">9. 删除本地分支:</span><br><span class="line">&#96;&#96;&#96;git branch 分支名称 -d</span><br></pre></td></tr></table></figure></li>
<li>拉取远端:<figure class="highlight plain"><figcaption><span>pull origin master```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">11. 更新分支列表信息:</span><br><span class="line">&#96;&#96;&#96;git fetch -p</span><br></pre></td></tr></table></figure></li>
<li>查看帮助:<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git -h</span><br><span class="line">git branch -h</span><br><span class="line">git pull -h</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>其他<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git push origin :branch_you_want_to_delete</span><br><span class="line"><span class="meta">#</span><span class="bash">注意空格</span></span><br><span class="line"><span class="meta">#</span><span class="bash">下述命令没使用过,不知道含义 :</span></span><br><span class="line"><span class="meta">#</span><span class="bash">查看git branch -h时得知-r表示对远端生效，-d表示删除。</span></span><br><span class="line"><span class="meta">#</span><span class="bash">git branch -r -d origin/branch-name</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<p>竟然没有commit和pull.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit fileA;</span><br><span class="line">git pull ;</span><br></pre></td></tr></table></figure>



<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">安装brew:</span></span><br><span class="line">curl -LsSf http://github.com/mxcl/homebrew/tarball/master | sudo tar xvz -C/usr/local --strip 1</span><br><span class="line"><span class="meta">#</span><span class="bash">查看brew软件列表:</span></span><br><span class="line">sudo brew search /apache*/</span><br><span class="line"><span class="meta">#</span><span class="bash">安装软件:</span></span><br><span class="line">sudo brew install wget</span><br></pre></td></tr></table></figure>
<ul>
<li><p>给git log 上颜色<br><code>git log --decorate --graph</code><br>git commit –amend<br>直接删掉changeid<br>会自动生成新的changeid</p>
</li>
<li><p>git add时(stage)先进行diff和修改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add feature.rb -e</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>查看切换分支的记录log:</p>
<p><code>git reflog</code></p>
<p>结果：</p>
<blockquote>
<p>894a16d HEAD@{0}: commit: commit another todo<br>6876e5b HEAD@{1}: checkout: moving from solve_world_hunger to kill_the_batman<br>324336a HEAD@{2}: commit: commit todo<br>6876e5b HEAD@{3}: checkout: moving from blowup_sun_for_ransom to solve_world_hunger<br>6876e5b HEAD@{4}: checkout: moving from kill_the_batman to blowup_sun_for_ransom<br>6876e5b HEAD@{5}: checkout: moving from cure_common_cold to kill_the_batman<br>6876e5b HEAD@{6}: commit (initial): initial commit</p>
</blockquote>
<p>然后可以切换到想去的分支:<br><code>git checkout solve_world_hunger</code></p>
<p>取消一个已经提交(push)的commit,原理其实是提交一次revert操作的commit.<br>通过<code>git log</code>查看想要取消的那次commit的hash值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git revert d71adf7ad90cc0206c2076b</span><br><span class="line"># 或者如果是倒数第二次的commit:</span><br><span class="line">git revert HEAD~1</span><br></pre></td></tr></table></figure>

<p>删除最近一次提交:<br><code>git reset --hard HEAD^</code><br>取消删除最近一次提交:<br><code>git reflog</code>查看到倒数第二个commit的hash然后：<br><code>git checkout b5ed1ea</code></p>
<p>git submodule add 仓库地址 路径</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://xiaoyue26.github.io/2016/12/30/git%E7%AC%94%E8%AE%B0/" data-id="ck96cxpky001gmaamcl8tc1q8" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/" rel="tag">git</a></li></ul>

    </footer>
  </div>
  
    
 
<script src="/jquery/jquery.min.js"></script>

  <div id="random_posts">
    <h2>推荐文章</h2>
    <div class="random_posts_ul">
      <script>
          var random_count =4
          var site = {BASE_URI:'/'};
          function load_random_posts(obj) {
              var arr=site.posts;
              if (!obj) return;
              // var count = $(obj).attr('data-count') || 6;
              for (var i, tmp, n = arr.length; n; i = Math.floor(Math.random() * n), tmp = arr[--n], arr[n] = arr[i], arr[i] = tmp);
              arr = arr.slice(0, random_count);
              var html = '<ul>';
            
              for(var j=0;j<arr.length;j++){
                var item=arr[j];
                html += '<li><strong>' + 
                item.date + ':&nbsp;&nbsp;<a href="' + (site.BASE_URI+item.uri) + '">' + 
                (item.title || item.uri) + '</a></strong>';
                if(item.excerpt){
                  html +='<div class="post-excerpt">'+item.excerpt+'</div>';
                }
                html +='</li>';
                
              }
              $(obj).html(html + '</ul>');
          }
          $('.random_posts_ul').each(function () {
              var c = this;
              if (!site.posts || !site.posts.length){
                  $.getJSON(site.BASE_URI + 'js/posts.js',function(json){site.posts = json;load_random_posts(c)});
              } 
               else{
                load_random_posts(c);
              }
          });
      </script>
    </div>
  </div>

    
<nav id="article-nav">
  
    <a href="/2016/12/31/gradle%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          gradle学习笔记
        
      </div>
    </a>
  
  
    <a href="/2016/12/24/fluentd%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">fluentd学习笔记</div>
    </a>
  
</nav>

  
</article>
 
     
  <div class="comments" id="comments">
    
     
       
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
       
      
      
      
  </div>
 
  

</section>
           
    <aside id="sidebar">
  
    

  
    
    <div class="widget-wrap">
    
      <div class="widget" id="toc-widget-fixed">
      
        <strong class="toc-title">文章目录</strong>
        <div class="toc-widget-list">
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#在项目目录下ls-a查看隐藏的git配置文件"><span class="toc-number">1.</span> <span class="toc-text">在项目目录下ls -a查看隐藏的git配置文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#修改-gitignore文件，例如在里面另起一行，添加：-zip-则可以忽略zip后缀名的文件。"><span class="toc-number">2.</span> <span class="toc-text">修改.gitignore文件，例如在里面另起一行，添加：*.zip,则可以忽略zip后缀名的文件。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#暂存-慎用"><span class="toc-number">3.</span> <span class="toc-text">暂存(慎用)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-commit-的时候把时间改成明天："><span class="toc-number">4.</span> <span class="toc-text">git commit 的时候把时间改成明天：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#撤销最后一次commit"><span class="toc-number">5.</span> <span class="toc-text">撤销最后一次commit:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#从远端还原一个文件："><span class="toc-number">6.</span> <span class="toc-text">从远端还原一个文件：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看远端信息："><span class="toc-number">7.</span> <span class="toc-text">查看远端信息：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#向本地仓库添加远程版本库，名叫origin"><span class="toc-number">8.</span> <span class="toc-text">向本地仓库添加远程版本库，名叫origin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看config-rb文件每一行的作者："><span class="toc-number">9.</span> <span class="toc-text">查看config.rb文件每一行的作者：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#用git定位代码从哪一次commit后开始出错："><span class="toc-number"></span> <span class="toc-text">用git定位代码从哪一次commit后开始出错：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#切换到feature分支"><span class="toc-number"></span> <span class="toc-text">切换到feature分支:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#查看log树"><span class="toc-number"></span> <span class="toc-text">查看log树:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#找到添加和修改想要文件那次commit的hash-ca32a6…"><span class="toc-number"></span> <span class="toc-text">找到添加和修改想要文件那次commit的hash ca32a6…</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#切换回master分支"><span class="toc-number"></span> <span class="toc-text">切换回master分支:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#提取文件："><span class="toc-number"></span> <span class="toc-text">提取文件：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#往前倒到上两次的："><span class="toc-number"></span> <span class="toc-text">往前倒到上两次的：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#把pick改成reword-并修改注释。"><span class="toc-number"></span> <span class="toc-text">把pick改成reword,并修改注释。</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#通过git-log确定要合并的commit有几次"><span class="toc-number"></span> <span class="toc-text">通过git log确定要合并的commit有几次</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#修改前四次的："><span class="toc-number"></span> <span class="toc-text">修改前四次的：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#这时的顺序是从按时间最早到最晚排列的，所以把后面几个pick都改成s然后退出保存即可。"><span class="toc-number"></span> <span class="toc-text">这时的顺序是从按时间最早到最晚排列的，所以把后面几个pick都改成s然后退出保存即可。</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#跟上面的类似，但是从别的分支取出几个commit-然后在本分支上体现为一个commit"><span class="toc-number"></span> <span class="toc-text">跟上面的类似，但是从别的分支取出几个commit,然后在本分支上体现为一个commit:</span></a>
          </div>
      </div>
    </div>

  
    

  
    
  
    
  
    

  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2023 风梦七&nbsp;|&nbsp;
      主题 <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank">Cafe</a>
    </div>
     <div id="footer-right">
      联系方式&nbsp;|&nbsp;296671657@qq.com
    </div>
  </div>
</footer>
 
<script src="/jquery/jquery.min.js"></script>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
      

  
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "e2fb4051c49842688ce669e634bc983f",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
    

  







<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

<!-- author:forvoid end -->

<!-- author:forvoid begin -->

<!-- author:forvoid end -->


   <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

  <script>
    ((window.gitter = {}).chat = {}).options = {
      //room替换成自己的聊天室名称即可，room的名称规则是：username/roomname
      room: 'xiaoyue26/comment'
    };
  </script>


<!-- author:forvoid end -->


  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      })
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      })
    </script>
    <script type="text/javascript" src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


 
<script src="/js/is.js"></script>



  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/elevator.js"></script>

  </div>
</body>
</html>